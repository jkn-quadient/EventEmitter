/*! mq 2015-12-23 */
var MQ=function(){"use strict";return{}}();MQ.Timer=function(){var a;return a=function(a,b){this.timeout=a||30,this.timer=0,this.callback=b},a.prototype.run=function(){var a=this,b=this.callback;this.timer||(this.timer=setTimeout(function(){a.cancel(),b()},this.timeout))},a.prototype.cancel=function(){this.timer&&(clearTimeout(this.timer),this.timer=0)},a.prototype.version="1.0",a}(MQ),MQ.Store=function(a){function b(a,b){var c=a[b];return c||(c=[],a[b]=c),c}function c(a,b){var c,d,e=a.length;for(c=0;e>c;c++)d=a[c],d.handler.apply(d.context,b?[b]:[])}function d(a,b,c){var d,e,f=a.length;if(0===f)throw"EventEmitter: Can not make request on event that has not handler for '"+b+"'.";if(f>1)throw"EventEmitter: Can not make request on event that has more then one handler. Use EventEmitter.event('"+b+"') instead.";return d=a[0],e=d.handler.apply(d.context,c?[c]:[]),void 0===e&&console.warn("EventEmitter: Return from request '"+b+"' is empty! This is might not be valid state."),e}function e(c,d,e,f){var g,h,i=b(c,e),j=i.length;if(d===a._default)i.length=0;else for(g=j-1;g>=0;g--)h=i[g],f&&h.context===d&&h.handler==f&&i.splice(g,1),f||h.context!==d||i.splice(g,1)}function f(b,c){var d,e,f,g,h,i=c===a._default;for(e in b)if(b.hasOwnProperty(e))for(f=b[e],h=f.length,d=h-1;d>=0;d--)g=f[d],(g.context===c||i)&&f.splice(d,1)}function g(a,b,c,d){void 0!==c&&null!==c?e(a,b,c,d):f(a,b)}var h,i;return i=function(a,b){this.context=a,this.handler=b},h=function(){this.store={}},h.prototype.save=function(a,c,d){c=c.toLowerCase(),b(this.store,c).push(new i(a,d))},h.prototype.remove=function(a,b,c){b=b?b.toLowerCase():b,g(this.store,a,b,c)},h.prototype.evaluate=function(a,d){a=a.toLowerCase(),c(b(this.store,a),d)},h.prototype.request=function(a,c){return a=a.toLowerCase(),d(b(this.store,a),a,c)},h.prototype.version="1.0",h}(MQ),MQ.Emitter=function(a){function b(a,c,e){return"tripleclick"===c?void d(a,e):(e.eventDoneRuntime=function(a){e(window.event||a)},a.addEventListener?a.addEventListener(c,e.eventDoneRuntime,!1):(a=a===window?document:a,a.attachEvent("on"+c,e.eventDoneRuntime)),void("mousewheel"===c&&b(a,"DOMMouseScroll",e.eventDoneRuntime)))}function c(a,b,d){return"tripleclick"===b?void e(a,d):(a.removeEventListener?a.removeEventListener(b,d.eventDoneRuntime):(a=a===window?document:a,a.detachEvent("on"+b,d.eventDoneRuntime)),void("mousewheel"===b&&c(a,"DOMMouseScroll",d.eventDoneRuntime)))}function d(a,c){c.tripleDblClickHandler=function(a){document.body.addEventListener||c.tripleClickHandler(a||window.event)},c.tripleClickHandler=function(a){a=a||window.event,p>(new Date).getTime()-700?(o+=1,3===o&&(o=0,c(a))):(o=1,p=0),p||(p=(new Date).getTime())},b(a,"click",c.tripleClickHandler),b(a,"dblclick",c.tripleDblClickHandler)}function e(a,b){c(a,"click",b.tripleClickHandler),c(a,"dblclick",b.tripleDblClickHandler)}function f(a){a.cancelBubble=!0,void 0!==a.stopPropagation&&a.stopPropagation()}function g(a){var b=a?a:window.event;return b.preventDefault&&b.preventDefault(),b.returnValue=!1,!1}function h(a,b,c,d){if("string"==typeof a&&"function"==typeof b)return{element:null,name:a,handler:b,params:d||[]};var e=a.nodeType&&1==a.nodeType,f=a===document,g=a===window;if((e||g||f)&&"string"==typeof b&&"function"==typeof c)return{element:a,name:b,handler:c,params:d||[]};throw"EventEmitter: Incorrect parameters given into function subscribe() or unsubscribe()."}function i(a,b,c){if(void 0===a||void 0===b)return{element:null,name:null,handler:null};if("string"==typeof a&&"function"==typeof b)return{element:null,name:a,handler:b};var d=a.nodeType&&1==a.nodeType,e=a===document,f=a===window;return(d||f||e)&&"string"==typeof b&&"function"==typeof c?{element:a,name:b,handler:c}:void 0}function j(a,b,c,d){console&&m&&(l.indexOf(b)>=0||(console[a]?console[a]("EventEmitter: ("+(new Date).toLocaleTimeString()+") "+c,d):console.info("EventEmitter: ("+(new Date).toLocaleTimeString()+") "+c,d)))}var k,l=[],m=!1,n=new a.Store,o=0,p=0;return a._default=window,k=function(b){this.context=a._default,this.isStatic=b||!1},k.prototype.create=function(b){return(new a.Emitter)["in"](b)},k.prototype.event=function(a,b){return j("debug",a,"Event for '"+a+"' send with parameters ",b),n.evaluate(a,b),this},k.prototype.notify=function(b,c){j("debug",b,"Notify for '"+b+"' send with parameters ",c);var d=new a.Timer(30,function(){n.evaluate(b,c)});return d.run(),d},k.prototype.request=function(a,b){var c=n.request(a,b);return j("debug",a,"Request for '"+a+"' return '"+c+"' for parameters ",b),c},k.prototype.subscribe=function(a,c,d,e){var f,g,i,j=this.context,k=h(a,c,d,e);return g=k.element,f=k.name,i=k.handler,g?(i.eventHandlerRuntime=function(a){i.apply(j,[[a].concat(k.params)])},b(g,f,i.eventHandlerRuntime)):n.save(this.context,f,i),this},k.prototype.unsubscribe=function(b,d,e){var f,g,h,j=i(b,d,e);return g=j.element,f=j.name,h=j.handler,this.context!==a._default||f||h||console.warn("EventEmitter: You are calling unsubscribe method without parameters. This is unbind all event through application!"),g?c(g,f,h.eventHandlerRuntime):n.remove(this.context,f,h),this},k.prototype.interrupt=function(a,b,c){b&&f(a),c&&g(a)},k.prototype["in"]=function(a){var b=this.isStatic;if(b)throw"EventEmitter: Can not change context on static method. Use EventEmitter.create() with right context.";return this.context=a,this},k.prototype.debugMode=function(a,b){l=b,m=a,console.info("EventEmitter debug mode is set to "+(a?"on":"off"))},k.prototype.version="1.0",k}(MQ);var EventEmitter=new MQ.Emitter(!0);