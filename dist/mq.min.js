/*! mq 2020-11-25 */
var MQ={};MQ.Timer=function(a,b){"use strict";function c(a,b){this.timeout=a||30,this.timer=0,this.callback=b}function d(a){this.cancel(),a()}return b=c.prototype,b.run=function(){this.timer||(this.timer=setTimeout(d.bind(this,this.callback),this.timeout))},b.cancel=function(){this.timer&&(clearTimeout(this.timer),this.timer=0)},b.version="1.0",c}(),MQ.Store=function(a,b){"use strict";function c(a,b){var c=a[b];return c||(c=[],a[b]=c),c}function d(a,b){var c,d,e;for(a=a.slice(0),d=a.length,c=0;c<d;c++)e=a[c],e.removed||e.handler.apply(e.context,b?[b]:[])}function e(a,b,c){var d,e,f=a.length;if(0===f)throw"EventEmitter: Can not make request on event that has not handler for '"+b+"'.";if(f>1)throw"EventEmitter: Can not make request on event that has more then one handler. Use EventEmitter.event('"+b+"') instead.";return d=a[0],e=d.handler.apply(d.context,c?[c]:[]),void 0===e&&console.warn("EventEmitter: Return from request '"+b+"' is empty! This is might not be valid state."),e}function f(a,b,c){var d,e,f=a.length;if(f>1)throw"EventEmitter: Can not make demand on event that has more then one handler. Use EventEmitter.event('"+b+"') instead.";return f&&(d=a[0],e=d.handler.apply(d.context,c?[c]:[])),e}function g(a){return a.length}function h(b,d,e,f){var g,h,i,j=[],k=c(b,e),l=k.length;if(d===a.mqDefault)b[e]=j;else for(g=l-1;g>=0;g--)h=k[g],i=f&&h.context===d&&h.handler===f,i=i||!f&&h.context===d,h.removed=i,i&&k.splice(g,1)}function i(b,c){var d,e,f,g,h,i,j=c===a.mqDefault;for(e in b)if(b.hasOwnProperty(e))for(f=b[e],h=f.length,d=h-1;d>=0;d--)g=f[d],i=g.context===c||j,g.removed=i,i&&f.splice(d,1)}function j(a,b,c,d){void 0!==c&&null!==c?h(a,b,c,d):i(a,b)}function k(a,b){this.context=a,this.handler=b,this.removed=!1}function l(){this.store={}}return b=l.prototype,b.save=function(a,b,d){b=b.toLowerCase(),c(this.store,b).push(new k(a,d))},b.remove=function(a,b,c){b=b?b.toLowerCase():b,j(this.store,a,b,c)},b.evaluate=function(a,b){a=a.toLowerCase(),d(c(this.store,a),b)},b.request=function(a,b){return a=a.toLowerCase(),e(c(this.store,a),a,b)},b.demand=function(a,b){return a=a.toLowerCase(),f(c(this.store,a),a,b)},b.watching=function(a){return a=a.toLowerCase(),g(c(this.store,a))},b.version="1.0",l}(MQ),MQ.Emitter=function(a,b){"use strict";function c(a,b,d){if("tripleclick"===b)return void e(a,d);d.eventDoneRuntime=d.eventDoneRuntime||function(a){d(window.event||a)},a.addEventListener?a.addEventListener(b,d.eventDoneRuntime,!1):(a=a===window?document:a,a.attachEvent("on"+b,d.eventDoneRuntime)),"mousewheel"===b&&c(a,"DOMMouseScroll",d.eventDoneRuntime)}function d(a,b,c){if("tripleclick"===b)return void f(a,c);a.removeEventListener?a.removeEventListener(b,c.eventDoneRuntime):(a=a===window?document:a,a.detachEvent("on"+b,c.eventDoneRuntime)),"mousewheel"===b&&d(a,"DOMMouseScroll",c.eventDoneRuntime),g(c)}function e(a,b){b.tripleDblClickHandler=function(a){document.body.addEventListener||b.tripleClickHandler(a||window.event)},b.tripleClickHandler=function(a){a=a||window.event,y>(new Date).getTime()-400?3===(x+=1)&&(x=0,b(a)):(x=1,y=0),y||(y=(new Date).getTime())},c(a,"click",b.tripleClickHandler),c(a,"dblclick",b.tripleDblClickHandler)}function f(a,b){d(a,"click",b.tripleClickHandler),d(a,"dblclick",b.tripleDblClickHandler),h(b),g(b)}function g(a){delete a.element,delete a.type,delete a.context}function h(a){delete a.tripleClickHandler,delete a.tripleDblClickHandler}function i(a){a.cancelBubble=!0,void 0!==a.stopPropagation&&a.stopPropagation()}function j(a){var b=a||window.event;return b.preventDefault&&b.preventDefault(),b.returnValue=!1,!1}function k(a,b,c,d){var e,f,g;if("string"==typeof a&&"function"==typeof b)return{element:null,name:a,handler:b,params:d||[]};if(e=a.nodeType&&1===a.nodeType,f=a===document,g=a===window,(e||g||f)&&"string"==typeof b&&"function"==typeof c)return{element:a,name:b,handler:c,params:d||[]};throw"EventEmitter: Incorrect parameters given into function subscribe() or unsubscribe()."}function l(a,b,c){var d,e,f;return void 0===a||void 0===b?{element:null,name:null,handler:null}:"string"==typeof a&&"function"==typeof b?{element:null,name:a,handler:b}:(d=a.nodeType&&1===a.nodeType,e=a===document,f=a===window,(d||f||e)&&"string"==typeof b&&"function"==typeof c?{element:a,name:b,handler:c}:null)}function m(a,b,c,d){console&&u&&(t.indexOf(b)>=0||(console[a]?console[a]("EventEmitter: ("+(new Date).toLocaleTimeString()+") "+c,v?"":d):console.info("EventEmitter: ("+(new Date).toLocaleTimeString()+") "+c,v?"":d)))}function n(){var a;for(a=s.shift();a;)w.evaluate(a.name,a.params),a=s.shift()}function o(b){this.context=a.mqDefault,this.isStatic=b||!1}function p(a,b){function c(c){b.handler.apply(a,[[c].concat(b.params)])}var d;return d=b.handler.handlers=b.handler.handlers||[],c.element=b.element,c.type=b.name,c.context=a,d.push(c),c}function q(a,b){var c,e,f,g,h,i=[],j=b.name,k=b.element,l=b.handler.handlers||[];for(c=l.length-1;c>=0;c--)g=l[c],h=g.element,e=g.type,f=g.context,h===k&&j===e&&f===a?d(b.element,b.name,g):i.push(g);b.handler.handlers=i}var r,s=[],t=[],u=!1,v=!1,w=new a.Store,x=0,y=0;return a.mqDefault=window,b=o.prototype,b.create=function(b){return(new a.Emitter).in(b)},b.event=function(a,b){return m("debug",a,"Event for '"+a+"' send with parameters ",b),w.evaluate(a,b),this},b.notify=function(b,c){var d={};return m("debug",b,"Notify for '"+b+"' send with parameters ",c),d.name=b,d.params=c,s.push(d),r||(r=new a.Timer(30,function(){n(),r.cancel(),r=null}),r.run()),r},b.request=function(a,b){var c=w.request(a,b);return m("debug",a,"Request for '"+a+"' return '"+c+"' for parameters ",b),c},b.demand=function(a,b){var c=w.demand(a,b);return m("debug",a,"Demand for '"+a+"' return '"+c+"' for parameters ",b),c},b.watching=function(a){var b=w.watching(a);return m("debug",a,"Watching count status for '"+a+"' return '"+b,[]),b},b.subscribe=function(a,b,d,e){var f=this.context,g=k(a,b,d,e);return g.element?c(g.element,g.name,p(f,g)):w.save(this.context,g.name,g.handler),this},b.unsubscribe=function(b,c,d){var e=l(b,c,d);return this.context!==a.mqDefault||e.name||e.handler||console.warn("EventEmitter: You are calling unsubscribe method without parameters. This is unbind all event through application!"),e.element?q(this.context,e):w.remove(this.context,e.name,e.handler),this},b.interrupt=function(a,b,c){b&&i(a),c&&j(a)},b.in=function(a){if(this.isStatic)throw"EventEmitter: Can not change context on static method. Use EventEmitter.create() with right context.";return this.context=a,this},b.debugMode=function(a,c,d){t=c||[],u=a,v=d,b.getStore=a?function(){return w}:void 0,console.info("EventEmitter debug mode is set to "+(a?"on":"off")+" "+(d?"with simple mode":""))},b.version="1.0",o}(MQ);var EventEmitter=new MQ.Emitter(!0);